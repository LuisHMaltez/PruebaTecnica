{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Luis\\\\Desktop\\\\pruebatecnica\\\\src\\\\components\\\\ProductoCatalogo.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport DetalleProducto from './DetalleProducto';\nimport FiltroCategoria from './FiltroCategoria'; // Importa el componente de filtro\nimport './ProductoCatalogo.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductoCatalogo = () => {\n  _s();\n  const [productos, setProductos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedProduct, setSelectedProduct] = useState(null);\n  const [selectedCategory, setSelectedCategory] = useState(null);\n  useEffect(() => {\n    console.log(\"Iniciando la solicitud de productos...\");\n    let url = 'http://localhost:8080/allproductosdetallados';\n    if (selectedCategory) {\n      url += `?category=${selectedCategory}`;\n    }\n    axios.get(url).then(response => {\n      console.log(\"Productos obtenidos exitosamente:\", response.data);\n      setProductos(response.data);\n      setLoading(false);\n    }).catch(error => {\n      console.error(\"Error al obtener productos\", error);\n      setLoading(false);\n    });\n  }, [selectedCategory]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"producto-catalogo\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Cat\\xE1logo de productos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FiltroCategoria, {\n      categorias: [...new Set(productos.map(producto => producto.cat_id))],\n      onCategoryChange: setSelectedCategory\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Cargando productos...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid-container\",\n      children: productos.map(producto => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"producto-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: producto.prd_imagen,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: producto.prd_nombre\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Precio: \", producto.prd_precio]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"button\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSelectedProduct(producto),\n            children: \"Ver detalles\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 15\n        }, this)]\n      }, producto.prd_id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this), selectedProduct && /*#__PURE__*/_jsxDEV(DetalleProducto, {\n      producto: selectedProduct,\n      onClose: () => setSelectedProduct(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductoCatalogo, \"OVHeTECSXusBgpkbSViL0mVDJDs=\");\n_c = ProductoCatalogo;\nexport default ProductoCatalogo;\nvar _c;\n$RefreshReg$(_c, \"ProductoCatalogo\");","map":{"version":3,"names":["React","useState","useEffect","axios","DetalleProducto","FiltroCategoria","jsxDEV","_jsxDEV","ProductoCatalogo","_s","productos","setProductos","loading","setLoading","selectedProduct","setSelectedProduct","selectedCategory","setSelectedCategory","console","log","url","get","then","response","data","catch","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","categorias","Set","map","producto","cat_id","onCategoryChange","src","prd_imagen","alt","prd_nombre","prd_precio","onClick","prd_id","onClose","_c","$RefreshReg$"],"sources":["C:/Users/Luis/Desktop/pruebatecnica/src/components/ProductoCatalogo.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport DetalleProducto from './DetalleProducto';\r\nimport FiltroCategoria from './FiltroCategoria'; // Importa el componente de filtro\r\nimport './ProductoCatalogo.css';\r\n\r\nconst ProductoCatalogo = () => {\r\n  const [productos, setProductos] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedProduct, setSelectedProduct] = useState(null);\r\n  const [selectedCategory, setSelectedCategory] = useState(null);\r\n\r\n  useEffect(() => {\r\n    console.log(\"Iniciando la solicitud de productos...\");\r\n    let url = 'http://localhost:8080/allproductosdetallados';\r\n    \r\n    if (selectedCategory) {\r\n      url += `?category=${selectedCategory}`;\r\n    }\r\n\r\n    axios.get(url)\r\n      .then(response => {\r\n        console.log(\"Productos obtenidos exitosamente:\", response.data);\r\n        setProductos(response.data);\r\n        setLoading(false);\r\n      })\r\n      .catch(error => {\r\n        console.error(\"Error al obtener productos\", error);\r\n        setLoading(false);\r\n      });\r\n  }, [selectedCategory]);\r\n\r\n  return (\r\n    <div className=\"producto-catalogo\">\r\n      <h1>Cat√°logo de productos</h1>\r\n      <FiltroCategoria\r\n        categorias={[...new Set(productos.map(producto => producto.cat_id))]}\r\n        onCategoryChange={setSelectedCategory}\r\n      />\r\n      {loading ? (\r\n        <p>Cargando productos...</p>\r\n      ) : (\r\n        <div className='grid-container'>\r\n          {productos.map(producto => (\r\n            <div key={producto.prd_id} className=\"producto-item\">\r\n              <img src={producto.prd_imagen} alt={\"\"} />\r\n              <h3>{producto.prd_nombre}</h3>\r\n              <p>Precio: {producto.prd_precio}</p>\r\n              <div className='button'>\r\n                <button onClick={() => setSelectedProduct(producto)}>Ver detalles</button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n      {selectedProduct && (\r\n        <DetalleProducto\r\n          producto={selectedProduct}\r\n          onClose={() => setSelectedProduct(null)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductoCatalogo;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}